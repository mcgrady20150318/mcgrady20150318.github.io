<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="document.addEventListener(&quot;DOMContentLoaded&quot;, function() {         renderMathInElement(document.body, {           &#x2F;&#x2F; customised options           &#x2F;&#x2F; • auto-render specific keys, e.g.:">
<meta property="og:type" content="article">
<meta property="og:title" content="浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性">
<meta property="og:url" content="http://example.com/2024/10/29/2410-10343/index.html">
<meta property="og:site_name" content="安全汪">
<meta property="og:description" content="document.addEventListener(&quot;DOMContentLoaded&quot;, function() {         renderMathInElement(document.body, {           &#x2F;&#x2F; customised options           &#x2F;&#x2F; • auto-render specific keys, e.g.:">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/images/4b1102cf873c74754f3539cdf8510aa03ab3b9bd41bc849b9f3db60a7a17ec37.jpg">
<meta property="og:image" content="http://example.com/images/1d9086dd0ba80e82865c9897093447f961edd64cdc7eac246a2fe52dace09a00.jpg">
<meta property="og:image" content="http://example.com/images/09eb65a134e29ab5b996d47904885f60a072b82921ff69245a234e108d9a1d04.jpg">
<meta property="og:image" content="http://example.com/images/e4e69946c617071a88156623fd521869b0df70912010b6fa90cde225f48c40de.jpg">
<meta property="article:published_time" content="2024-10-29T00:53:44.000Z">
<meta property="article:modified_time" content="2024-10-29T00:53:44.041Z">
<meta property="article:author" content="anquanwang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/4b1102cf873c74754f3539cdf8510aa03ab3b9bd41bc849b9f3db60a7a17ec37.jpg">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Next post" href="/2024/10/28/2410-19130/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2024/10/29/2410-10343/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2024/10/29/2410-10343/&text=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2024/10/29/2410-10343/&title=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2024/10/29/2410-10343/&is_video=false&description=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性&body=Check out this article: http://example.com/2024/10/29/2410-10343/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2024/10/29/2410-10343/&title=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2024/10/29/2410-10343/&title=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2024/10/29/2410-10343/&title=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2024/10/29/2410-10343/&title=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2024/10/29/2410-10343/&name=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2024/10/29/2410-10343/&t=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%BC%95%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text"> 1 引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%9B%B8%E5%85%B3%E5%B7%A5%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text"> 2 相关工作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AF%B9%E9%BD%90%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.</span> <span class="toc-text"> 大语言模型的对齐方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E9%98%B2%E6%8A%A4%E6%8E%AA%E6%96%BD%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-number">2.2.</span> <span class="toc-text"> 安全防护措施的局限性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E8%B0%83%E5%90%8E%E6%A8%A1%E5%9E%8B%E5%AE%89%E5%85%A8%E6%80%A7%E7%9A%84%E5%85%B3%E6%B3%A8"><span class="toc-number">2.3.</span> <span class="toc-text"> 微调后模型安全性的关注</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%96%B9%E6%B3%95safetylock"><span class="toc-number">3.</span> <span class="toc-text"> 3 方法：SafetyLock</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#31-safetylock%E7%9A%84%E6%9E%84%E5%BB%BA"><span class="toc-number">3.1.</span> <span class="toc-text"> 3.1 SafetyLock的构建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#311-%E5%AE%89%E5%85%A8%E7%89%B9%E5%BE%81%E5%9C%A8transformer%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.1.1.</span> <span class="toc-text"> 3.1.1 安全特征在Transformer中的实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32-%E6%9E%84%E5%BB%BAmeta-safetylock"><span class="toc-number">3.2.</span> <span class="toc-text"> 3.2 构建Meta-SafetyLock</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#33-safetylock%E5%AF%B9%E5%BE%AE%E8%B0%83%E7%9A%84%E9%B2%81%E6%A3%92%E6%80%A7"><span class="toc-number">3.3.</span> <span class="toc-text"> 3.3 SafetyLock对微调的鲁棒性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#34-safetylock%E7%9A%84%E5%88%86%E5%8F%91"><span class="toc-number">3.4.</span> <span class="toc-text"> 3.4 SafetyLock的分发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#341-%E5%9C%A8%E7%BA%BF%E5%B9%B2%E9%A2%84"><span class="toc-number">3.4.1.</span> <span class="toc-text"> 3.4.1 在线干预</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#342-%E7%A6%BB%E7%BA%BF%E5%81%8F%E7%BD%AE%E7%BC%96%E8%BE%91"><span class="toc-number">3.4.2.</span> <span class="toc-text"> 3.4.2 离线偏置编辑</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%AE%9E%E9%AA%8C"><span class="toc-number">4.</span> <span class="toc-text"> 4 实验</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#41-%E5%AE%9E%E9%AA%8C%E7%BB%86%E8%8A%82"><span class="toc-number">4.1.</span> <span class="toc-text"> 4.1 实验细节</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AE%E8%B0%83%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">4.1.1.</span> <span class="toc-text"> 微调数据集</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42-%E4%B8%8D%E5%90%8C%E9%A3%8E%E9%99%A9%E6%B0%B4%E5%B9%B3%E4%B8%8B%E7%9A%84%E7%BB%93%E6%9E%9C"><span class="toc-number">4.2.</span> <span class="toc-text"> 4.2 不同风险水平下的结果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43-%E5%9F%BA%E7%BA%BF%E6%96%B9%E6%B3%95%E7%9A%84%E6%AF%94%E8%BE%83%E5%88%86%E6%9E%90"><span class="toc-number">4.3.</span> <span class="toc-text"> 4.3 基线方法的比较分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#44-safetylock%E5%9C%A8%E7%BB%84%E5%90%88%E6%94%BB%E5%87%BB%E4%B8%8B%E7%9A%84%E8%A1%A8%E7%8E%B0"><span class="toc-number">4.4.</span> <span class="toc-text"> 4.4 SafetyLock在组合攻击下的表现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#45-%E5%AF%B9%E4%B8%8B%E6%B8%B8%E4%BB%BB%E5%8A%A1%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">4.5.</span> <span class="toc-text"> 4.5 对下游任务的影响</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%BB%93%E8%AE%BA"><span class="toc-number">5.</span> <span class="toc-text"> 5 结论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%B8%AA%E4%BA%BA%E8%AF%84%E4%BB%B7"><span class="toc-number">6.</span> <span class="toc-text"> 6 个人评价</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E6%96%B0%E6%80%A7"><span class="toc-number">6.1.</span> <span class="toc-text"> 创新性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%94%A8%E6%80%A7"><span class="toc-number">6.2.</span> <span class="toc-text"> 实用性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BD%9C%E5%8A%9B%E4%B8%8E%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-number">6.3.</span> <span class="toc-text"> 潜力与局限性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">6.4.</span> <span class="toc-text"> 总结</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">anquanwang</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-10-29T00:53:44.000Z" class="dt-published" itemprop="datePublished">2024-10-29</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          // customised options
          // • auto-render specific keys, e.g.:
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\(', right: '\)', display: false},
              {left: '\[', right: '\]', display: true}
          ],
          // • rendering keys, e.g.:
          throwOnError : false
        });
    });
</script>
<h2 id="1-引言"><a class="markdownIt-Anchor" href="#1-引言"></a> 1 引言</h2>
<p>大语言模型（LLMs）在各个领域的应用日益广泛，展现出强大的潜力。然而，随着其能力的提升，模型在处理有害查询时所带来的安全风险也愈发显著。研究者们为此开发了多种后训练对齐方法，旨在确保LLMs生成有益、诚实且无害的响应。这些方法包括对模型进行后训练调整、知识编辑以及向推理过程中添加额外的提示或检测器等。然而，现有的安全对齐措施在微调过程中往往无法有效降低安全风险。</p>
<p>近期的研究表明，微调模型时，即使使用少量的恶意训练示例，也可能导致模型的安全对齐被破坏。例如，研究发现，仅通过对GPT-3.5 Turbo进行微调，使用10个恶意示例就能轻易绕过其安全防护。这一发现突显了当前安全基础设施在应对微调后模型所引入的新安全风险方面的不足。因此，如何在微调后保持模型的安全性成为了一个亟待解决的研究问题。</p>
<p>现有的安全对齐技术主要可以分为三种主流方法：第一种是后训练方法，通过使用对齐数据对模型进行再训练，尽管这种方法有效，但计算成本高且耗时；第二种是模型编辑方法，旨在修改模型的特定部分以防止有害输出，但往往会降低模型的整体性能；第三种方法是在推理过程中添加额外的提示或检测器，以避免生成不安全的内容，但这些方法容易受到对抗性攻击的影响。</p>
<p>在此背景下，研究者们提出了一个关键的研究问题：如何在如此大规模的微调模型中定位与安全相关的注意力头，并有效获取微调大语言模型（LLMs）的安全向量，而不对其他通用任务造成负面影响？为了解决这一问题，本文提出了SafetyLock，这是一种新颖的方法，旨在在保持生成质量的同时，增强模型的安全性。通过对现有方法的进一步优化，SafetyLock在微调后的模型中实现了精确的安全对齐，确保了模型在处理有害查询时的安全性。</p>
<h2 id="2-相关工作"><a class="markdownIt-Anchor" href="#2-相关工作"></a> 2 相关工作</h2>
<p>在大语言模型（LLMs）的研究中，模型的对齐方法逐渐成为一个重要的研究方向。随着这些模型在各个领域的应用日益广泛，其潜在的安全风险也引起了研究者的高度关注。现有的安全对齐方法主要集中在确保模型生成的内容是有益的、无害的和诚实的。然而，研究表明，现有的安全对齐措施在微调后往往无法有效维持模型的安全性。</p>
<h3 id="大语言模型的对齐方法"><a class="markdownIt-Anchor" href="#大语言模型的对齐方法"></a> 大语言模型的对齐方法</h3>
<p>大语言模型的对齐方法可以分为几种主要类型，包括指令调优、强化学习与人类反馈（RLHF）等。这些方法旨在通过对模型进行再训练或调整，使其能够拒绝有害的指令。然而，研究发现，即使是经过良好对齐的模型，在进行微调后，其安全性也可能受到显著影响。例如，Qi等（2023b）指出，仅使用10个恶意示例就足以破坏GPT-3.5 Turbo的安全对齐。这一发现突显了当前安全对齐策略的脆弱性，尤其是在微调过程中。</p>
<h3 id="安全防护措施的局限性"><a class="markdownIt-Anchor" href="#安全防护措施的局限性"></a> 安全防护措施的局限性</h3>
<p>现有的安全防护措施主要包括后处理技术和模型编辑方法。后处理技术如使用RLHF进行安全对齐，虽然在一定程度上能够缓解安全风险，但在微调后往往无法保持其有效性。模型编辑方法则试图通过修改模型的特定部分来防止有害输出，但这类方法通常会导致模型整体性能的下降，影响生成的合理性和推理能力。此外，添加额外的提示或检测器以避免不安全内容的生成，虽然在一定程度上有效，但也容易受到对抗性攻击的影响。</p>
<h3 id="微调后模型安全性的关注"><a class="markdownIt-Anchor" href="#微调后模型安全性的关注"></a> 微调后模型安全性的关注</h3>
<p>随着微调技术的普及，研究者们开始关注如何在微调后保持模型的安全性。当前的研究表明，微调后的模型在面对恶意输入时，可能会表现出更高的脆弱性。因此，开发更为稳健的对齐技术，以应对微调过程中引入的参数变化，成为了一个亟待解决的挑战。</p>
<p>综上所述，尽管现有的对齐方法在一定程度上能够提高模型的安全性，但在微调后仍存在显著的安全风险。这一现状促使研究者们探索新的方法，以确保在微调过程中，模型的安全性能够得到有效维护。</p>
<h2 id="3-方法safetylock"><a class="markdownIt-Anchor" href="#3-方法safetylock"></a> 3 方法：SafetyLock</h2>
<p>在本节中，论文详细介绍了SafetyLock的设计与实现，强调其在微调模型中的有效性和高效性。SafetyLock的核心思想是通过构建和分发Meta-SafetyLock来增强大语言模型（LLMs）的安全性，确保在微调后仍能保持其安全性能。</p>
<h3 id="31-safetylock的构建"><a class="markdownIt-Anchor" href="#31-safetylock的构建"></a> 3.1 SafetyLock的构建</h3>
<p>SafetyLock的构建过程包括两个主要阶段：制造Meta-SafetyLock和分发SafetyLock。研究发现，微调后的语言模型与其原始模型在安全偏好方面的激活表示和干预方向具有显著相似性。这一发现使得从原始语言模型中提取安全偏向方向（Meta-SafetyLock）成为可能。</p>
<h4 id="311-安全特征在transformer中的实现"><a class="markdownIt-Anchor" href="#311-安全特征在transformer中的实现"></a> 3.1.1 安全特征在Transformer中的实现</h4>
<p>Transformer模型由多层多头注意力机制（MHA）和多层感知器组成。在推理过程中，输入的token被处理为高维嵌入，并通过每一层进行传递。MHA机制的数学表达式如下：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>x</mi><mi>l</mi></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msubsup><mi>Q</mi><mi>l</mi><mi>h</mi></msubsup><mtext> </mtext><mo>&lt;</mo><mo stretchy="false">!</mo><mo>−</mo><mo>−</mo><mi>s</mi><mi>w</mi><mi>i</mi><mi>g</mi><mi mathvariant="normal">￼</mi><mn>0</mn><mo>−</mo><mo>−</mo><msubsup><mo>&gt;</mo><mi>l</mi><mi>h</mi></msubsup><mo stretchy="false">(</mo><msubsup><mi>P</mi><mi>l</mi><mi>h</mi></msubsup><msub><mi>x</mi><mi>l</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">{x_{l+1}}={x_{l}}+\sum_{h=1}^{H}{Q_{l}^{h}}\,\mathrm_{l}^{h}({P_{l}^{h}}{x_{l}}),
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord">￼</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.146108em;vertical-align:-0.247em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel">&gt;</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1491079999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span></p>
<p>其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>l</mi></msub></mrow><annotation encoding="application/x-tex">x_{l}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span>层的激活值，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span></span></span></span>是维度的数量。通过在残差流中添加偏好向量，SafetyLock能够在推理过程中引入安全性干预。</p>
<h3 id="32-构建meta-safetylock"><a class="markdownIt-Anchor" href="#32-构建meta-safetylock"></a> 3.2 构建Meta-SafetyLock</h3>
<p>安全方向被建模为模型内部头部的向量。使用包含安全和不安全响应对的偏好样式安全数据集，提取每个注意力头在前向计算过程中的激活值。为每个头部训练一个二元分类器，使用逻辑回归模型：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><msubsup><mi mathvariant="bold">x</mi><mi>t</mi><mi>h</mi></msubsup><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>exp</mi><mo>⁡</mo><mo stretchy="false">(</mo><mo>−</mo><mo stretchy="false">(</mo><msubsup><mi mathvariant="bold">w</mi><mi>t</mi><mi>h</mi></msubsup><mo>⋅</mo><msubsup><mi mathvariant="bold">x</mi><mi>t</mi><mi>h</mi></msubsup><mo>+</mo><msubsup><mi>b</mi><mi>t</mi><mi>h</mi></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">P(y=1|\mathbf{x}_{t}^{h})=(1+\exp(-(\mathbf{w}_{t}^{h}\cdot\mathbf{x}_{t}^{h}+b_{t}^{h})))^{-1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1491079999999998em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">∣</span><span class="mord"><span class="mord"><span class="mord mathbf">x</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1491079999999998em;vertical-align:-0.25em;"></span><span class="mop">exp</span><span class="mopen">(</span><span class="mord">−</span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.146108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">x</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1491079999999998em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>通过在保留的验证集上对分类器的准确性进行排名，识别出与安全相关信息最敏感的注意力头。经过实验证明，选择<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo>=</mo><mn>24</mn></mrow><annotation encoding="application/x-tex">K=24</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">4</span></span></span></span>的头部对于Llama-3-8B模型和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo>=</mo><mn>48</mn></mrow><annotation encoding="application/x-tex">K=48</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">8</span></span></span></span>对于Llama-3-70B模型能够在安全性能和通用性能之间达到最佳平衡。</p>
<p>对于每个选择的Top <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span>头部，计算安全方向<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>θ</mi><mi>l</mi><mi>h</mi></msubsup></mrow><annotation encoding="application/x-tex">\pmb{\theta}_{l}^{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2026702222222223em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7166622222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.7166622222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7166622222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9556702222222222em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.1695622222222224em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>，表示安全和不安全响应之间的激活值均值差异：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>θ</mi><mi>l</mi><mi>h</mi></msubsup><mo>=</mo><mfrac><mn>1</mn><mrow><mi>N</mi><mi>r</mi></mrow></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>r</mi></munderover><mo stretchy="false">(</mo><msubsup><mi mathvariant="bold">x</mi><mrow><mi>l</mi><mo separator="true">,</mo><mi>h</mi></mrow><mrow><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">e</mi></mrow><mo separator="true">,</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msubsup><mo>−</mo><msubsup><mi mathvariant="bold">x</mi><mrow><mi>l</mi><mo separator="true">,</mo><mi>h</mi></mrow><mrow><mrow><mi mathvariant="normal">u</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">e</mi></mrow><mo separator="true">,</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pmb{\theta}_{l}^{h}=\frac{1}{N r}\sum_{i=1}^{N}\sum_{j=1}^{r}(\mathbf{x}_{l,h}^{\mathrm{safe},i,j}-\mathbf{x}_{l,h}^{\mathrm{unsafe},i,j})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2026702222222223em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7166622222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.7166622222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7166622222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9556702222222222em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.1695622222222224em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.242113em;vertical-align:-1.4137769999999998em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000007em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathbf">x</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">h</span></span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">s</span><span class="mord mathrm mtight">a</span><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span><span class="mord mathrm mtight">e</span></span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4374159999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.404432em;vertical-align:-0.4374159999999999em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">x</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9670159999999999em;"><span style="top:-2.3986920000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">h</span></span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">u</span><span class="mord mathrm mtight">n</span><span class="mord mathrm mtight">s</span><span class="mord mathrm mtight">a</span><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span><span class="mord mathrm mtight">e</span></span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4374159999999999em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>这些安全向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>θ</mi><mi>l</mi><mi>h</mi></msubsup></mrow><annotation encoding="application/x-tex">\theta_{l}^{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.132216em;vertical-align:-0.2831079999999999em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4168920000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831079999999999em;"><span></span></span></span></span></span></span></span></span></span>与其在模型中的对应位置一起构成Meta-SafetyLock，可以在文本生成过程中增强模型的安全性。</p>
<h3 id="33-safetylock对微调的鲁棒性"><a class="markdownIt-Anchor" href="#33-safetylock对微调的鲁棒性"></a> 3.3 SafetyLock对微调的鲁棒性</h3>
<p>研究者们对原始Llama-3-Instruct 8B模型及其经过不同风险级别微调的变体中的安全方向进行了分析。以第31层的第26个头部为例，观察到安全（蓝色）和不安全（橙色）响应的激活值在原始模型和微调模型中呈现出明显的聚类。图2展示了这一现象，黑色箭头指示了从不安全到安全激活值的转变保持了高度的相似性和一致性。</p>
<p>此外，使用Kullback-Leibler（KL）散度的定量分析表明，原始模型和微调模型之间的散度在所有测试的风险级别下均保持在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>5</mn></mrow></msup></mrow><annotation encoding="application/x-tex">10^{-5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span>以下。这一最小的散度表明，安全相关的激活模式在微调过程中基本保持不变。因此，Meta-SafetyLock在应用于微调变体时仍然有效，消除了重新校准的需求，使其能够在不同的微调模型之间无缝泛化。</p>
<p><img src="/images/4b1102cf873c74754f3539cdf8510aa03ab3b9bd41bc849b9f3db60a7a17ec37.jpg" alt="图2: 安全方向在不同风险级别下的激活分析" /></p>
<h3 id="34-safetylock的分发"><a class="markdownIt-Anchor" href="#34-safetylock的分发"></a> 3.4 SafetyLock的分发</h3>
<p>SafetyLock的分发采用两种高效的方法：在线干预和离线偏置编辑。在线干预允许实时调整安全强度，适用于需要动态安全控制的场景；而离线偏置编辑则提供了一种低开销的方法，易于大规模部署。</p>
<h4 id="341-在线干预"><a class="markdownIt-Anchor" href="#341-在线干预"></a> 3.4.1 在线干预</h4>
<p>通过识别和增强与无害性最相关的Top-K头部，计算每个选择的Top-K头部的标准差<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>σ</mi><mi>l</mi><mi>h</mi></msubsup></mrow><annotation encoding="application/x-tex">\pmb{\sigma}_{l}^{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.132216em;vertical-align:-0.2831079999999999em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.43056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.4527822222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4168920000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831079999999999em;"><span></span></span></span></span></span></span></span></span></span>，表示安全方向<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>θ</mi><mi>l</mi><mi>h</mi></msubsup></mrow><annotation encoding="application/x-tex">\pmb{\theta}_{l}^{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2026702222222223em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7166622222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.7166622222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7166622222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9556702222222222em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.1695622222222224em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>的激活值的变异性。模型的计算通过将安全向量的缩放版本添加到每个选择头部的注意力输出中进行修改：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>x</mi><mi>l</mi></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msubsup><mi>Q</mi><mi>l</mi><mi>h</mi></msubsup><mrow><mo fence="true">(</mo><msubsup><mrow><mi mathvariant="normal">A</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">t</mi></mrow><mi>l</mi><mi>h</mi></msubsup><mo stretchy="false">(</mo><msubsup><mi>P</mi><mi>l</mi><mi>h</mi></msubsup><msub><mi>x</mi><mi>l</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mi>α</mi><msubsup><mi>σ</mi><mi>l</mi><mi>h</mi></msubsup><msubsup><mi>θ</mi><mi>l</mi><mi>h</mi></msubsup><mo fence="true">)</mo></mrow><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">x_{l+1}=x_{l}+\sum_{h=1}^{H}Q_{l}^{h}\left(\mathrm{Att}_{l}^{h}(P_{l}^{h}x_{l})+\alpha\pmb{\sigma}_{l}^{h}\theta_{l}^{h}\right),
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathrm">A</span><span class="mord mathrm">t</span><span class="mord mathrm">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9223379999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.1362300000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.43056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.4527822222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span></span></span></span></span></p>
<p>其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>控制安全强度，该过程集成到每个后续token的自回归预测中。</p>
<h4 id="342-离线偏置编辑"><a class="markdownIt-Anchor" href="#342-离线偏置编辑"></a> 3.4.2 离线偏置编辑</h4>
<p>此外，模型的偏置项也可以通过一次性修改来增强安全性：</p>
\mathrm{\bfBias}_{l}=\mathrm{\bfBias}_{l}+\alpha\sum_{h=1}^{H}Q_{l}^{h}\left(\sigma_{l}^{h}\theta_{l}^{h}\right).

<p>通过以上方法，SafetyLock能够在不增加计算负担的情况下，快速有效地增强微调模型的安全性。</p>
<h2 id="4-实验"><a class="markdownIt-Anchor" href="#4-实验"></a> 4 实验</h2>
<p>在本节中，研究团队展示了SafetyLock在不同风险水平下的实验结果，比较其与现有方法的性能，并分析其在保持模型性能的同时增强安全性的能力。实验的设计旨在评估SafetyLock在面对多种攻击场景时的有效性和效率。</p>
<h3 id="41-实验细节"><a class="markdownIt-Anchor" href="#41-实验细节"></a> 4.1 实验细节</h3>
<p>为了评估SafetyLock的性能，研究团队选择了多种威胁模型，模拟攻击者通过API访问对已对齐的大语言模型进行微调的场景。主要目标是通过“越狱”攻击来移除模型的安全约束。实验使用了Llama-3-8B Chat、Llama-3-70B Chat和Mistral-Large-2 123B作为基础模型，并在代表不同风险水平的数据集上进行微调。</p>
<h4 id="微调数据集"><a class="markdownIt-Anchor" href="#微调数据集"></a> 微调数据集</h4>
<p>实验涵盖了三种风险类型：</p>
<ol>
<li><strong>显式有害数据集</strong>：攻击者故意在恶意内容上微调模型。</li>
<li><strong>隐式有害数据集</strong>：这些数据集看似无害，但可能导致安全防护的削弱。</li>
<li><strong>无害数据集</strong>：即使是出于良好意图的微调，也可能无意中降低模型的安全性。</li>
</ol>
<p>研究团队使用了不同数量的样本进行微调，具体如下：</p>
<ul>
<li>对于风险1，使用来自HH-RLHF偏好数据集的负样本，分别选择10、100、1000和10000个样本进行训练。</li>
<li>对于风险2，使用Qi等人（2023b）提供的10个样本进行训练。</li>
<li>对于风险3，使用Alpaca数据集的前50,000个样本进行训练。</li>
</ul>
<h3 id="42-不同风险水平下的结果"><a class="markdownIt-Anchor" href="#42-不同风险水平下的结果"></a> 4.2 不同风险水平下的结果</h3>
<p>SafetyLock在三种不同风险水平下的安全性指标表现出显著改善。表1展示了在风险1、风险2和风险3场景下，Llama-3-8B-Instruct和Llama-3-70B-Instruct模型的比较结果。</p>
<table>
<thead>
<tr>
<th>风险水平</th>
<th>模型</th>
<th>Harmfulness Score</th>
<th>Harmfulness Rate</th>
<th>ASR</th>
</tr>
</thead>
<tbody>
<tr>
<td>风险1</td>
<td>Llama-3-8B-Instruct</td>
<td>4.13 → 1.36</td>
<td>70.01% → 3.33%</td>
<td>49.24% → 0.19%</td>
</tr>
<tr>
<td>风险2</td>
<td>Llama-3-8B-Instruct</td>
<td>3.19 → 1.07</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>风险3</td>
<td>Llama-3-8B-Instruct</td>
<td>3.23 → 1.04</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>图3展示了在不同风险水平下，SafetyLock的安全性能比较。较小的深黄色区域相较于浅黄色区域，表明SafetyLock带来的改善程度。</p>
<p><img src="/images/1d9086dd0ba80e82865c9897093447f961edd64cdc7eac246a2fe52dace09a00.jpg" alt="图3: 安全性能比较" /></p>
<h3 id="43-基线方法的比较分析"><a class="markdownIt-Anchor" href="#43-基线方法的比较分析"></a> 4.3 基线方法的比较分析</h3>
<p>为了全面评估SafetyLock的有效性，研究团队对其与现有基线方法进行了比较分析。结果显示，SafetyLock在效率和安全性方面均表现出色。其推理时间为0.97秒，几乎与最快的基线方法（Self-Reminder，1.12秒）相当，而训练时间仅为0.01秒，额外的GPU内存使用为0.0 GB，远低于所有训练基础的方法。</p>
<p>图5展示了SafetyLock与其他推理时间防御方法的比较。SafetyLock在拒绝攻击样本方面表现优异，Harmfulness Score为1.04，表明其在减少有害内容生成方面的卓越能力。</p>
<p><img src="/images/09eb65a134e29ab5b996d47904885f60a072b82921ff69245a234e108d9a1d04.jpg" alt="图5: 方法比较" /></p>
<h3 id="44-safetylock在组合攻击下的表现"><a class="markdownIt-Anchor" href="#44-safetylock在组合攻击下的表现"></a> 4.4 SafetyLock在组合攻击下的表现</h3>
<p>研究团队进一步评估了SafetyLock在组合攻击场景下的表现，包括微调模型攻击和基于提示的攻击。结果表明，SafetyLock在所有测试的攻击方法中均表现出色，成功降低了攻击成功率（ASR）。</p>
<p>例如，在Deep Inception攻击中，SafetyLock的ASR仅为2.0%，而其他方法未能提供有效防御（ASR均为98.0%）。这些结果强调了SafetyLock在应对多样化攻击场景中的有效性。</p>
<h3 id="45-对下游任务的影响"><a class="markdownIt-Anchor" href="#45-对下游任务的影响"></a> 4.5 对下游任务的影响</h3>
<p>最后，研究团队评估了SafetyLock对下游任务的影响，确保安全增强不会损害正常文本生成能力。结果显示，SafetyLock在多个任务上的表现保持稳定，未显著降低模型的生成能力。</p>
<p>图6展示了SafetyLock在不同下游任务中的表现，与原始模型相比，SafetyLock在各项任务中均保持了良好的性能。</p>
<p><img src="/images/e4e69946c617071a88156623fd521869b0df70912010b6fa90cde225f48c40de.jpg" alt="图6: 下游任务性能比较" /></p>
<p>综上所述，SafetyLock在不同风险水平和攻击场景下均表现出色，证明了其在增强大语言模型安全性方面的有效性和实用性。</p>
<h2 id="5-结论"><a class="markdownIt-Anchor" href="#5-结论"></a> 5 结论</h2>
<p>在本研究中，作者提出了SafetyLock，这是一种新颖且高效的方法，旨在维护微调后大语言模型（LLMs）的安全性。通过一系列实验，SafetyLock在不同风险水平和攻击场景下表现出色，显著提高了模型的安全性，同时保持了其生成能力。这一方法的提出不仅填补了现有安全对齐方法的空白，还为未来的研究提供了新的方向。</p>
<p>SafetyLock的核心在于其Meta-SafetyLock的构建与分发过程。通过从原始模型中提取安全向量，SafetyLock能够在微调模型中快速有效地应用这些安全措施。实验结果表明，SafetyLock在处理显式和隐式攻击时，能够显著降低有害输出的生成率。例如，在风险等级1的场景中，Llama-3-8B-Instruct模型的有害性评分从4.13降至1.36，攻击成功率（ASR）从49.24%降至0.19%。这些结果表明，SafetyLock在增强模型安全性方面具有显著的优势。</p>
<p>此外，SafetyLock在与现有方法的比较中表现出色。其推理时间为0.97秒，几乎与最快的基线方法相当，而训练时间仅为0.01秒，额外的GPU内存使用量为0.0 GB，远低于所有基于训练的方法。这种高效性使得SafetyLock在实际应用中具有广泛的适用性，尤其是在计算资源有限的情况下。</p>
<p>在保持模型性能方面，SafetyLock也展现了其独特的优势。通过对500个来自Alpaca数据集的测试样本进行评估，SafetyLock保持了98.1%的正常响应率，接近原始模型的99.4%。这一结果表明，SafetyLock在增强安全性的同时，几乎没有对模型的生成能力造成负面影响。</p>
<p>总的来说，SafetyLock的提出为大语言模型的安全性提供了一种可行的解决方案，强调了在微调过程中保持安全性的重要性。未来的研究可以探索SafetyLock在其他模型架构中的适用性，以及其在多模态设置中的潜力。这些发现为AI安全领域的持续努力做出了重要贡献，提供了一种可扩展且有效的方法，以确保微调后的语言模型符合伦理约束，同时在多种应用中保持其效用。</p>
<h2 id="6-个人评价"><a class="markdownIt-Anchor" href="#6-个人评价"></a> 6 个人评价</h2>
<p>在这篇论文中，作者提出了SafetyLock这一创新方法，旨在解决大语言模型（LLMs）在微调后面临的安全性挑战。通过对现有安全对齐方法的深入分析，作者明确了这些方法在应对微调带来的安全风险时的不足之处，进而提出了SafetyLock作为一种有效的解决方案。</p>
<h3 id="创新性"><a class="markdownIt-Anchor" href="#创新性"></a> 创新性</h3>
<p>SafetyLock的核心创新在于其Meta-SafetyLock的构建与分发过程。作者通过实验证明，Fine-tuned模型与原始模型在安全相关的激活表示上保持高度相似性，这一发现为SafetyLock的有效性提供了理论基础。通过提取安全偏向方向，SafetyLock能够在不增加计算成本的情况下，快速地将安全措施应用于微调后的模型。这种方法不仅提高了模型的安全性，还保持了其生成能力，展示了在安全与性能之间的良好平衡。</p>
<h3 id="实用性"><a class="markdownIt-Anchor" href="#实用性"></a> 实用性</h3>
<p>SafetyLock的实用性体现在其高效的部署方式和显著的安全性提升。实验结果表明，SafetyLock能够在不到0.01秒的时间内完成对微调模型的安全重对齐，且在多种风险水平下均表现出色。例如，在显式攻击的情况下，SafetyLock将有害性评分从4.13降低至1.36，攻击成功率（ASR）从49.24%降至0.19%。这些结果表明，SafetyLock不仅在理论上可行，在实际应用中也具有很高的价值。</p>
<h3 id="潜力与局限性"><a class="markdownIt-Anchor" href="#潜力与局限性"></a> 潜力与局限性</h3>
<p>尽管SafetyLock展现了良好的性能，但在实际应用中仍存在一定的局限性。首先，虽然作者在多种模型上进行了测试，但SafetyLock的适用性是否能够扩展到其他类型的模型和多模态设置仍需进一步验证。此外，SafetyLock的效果可能受到微调数据集质量的影响，未来的研究可以探索如何在不同数据集上优化其性能。</p>
<h3 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h3>
<p>总体而言，SafetyLock为大语言模型的安全性提供了一种创新且高效的解决方案，具有广泛的应用潜力。通过在保持模型生成能力的同时增强其安全性，SafetyLock为AI安全领域的研究提供了新的思路和方法。未来的研究可以在此基础上进一步探索其在不同场景下的应用效果，以推动安全对齐技术的发展。</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%BC%95%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text"> 1 引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%9B%B8%E5%85%B3%E5%B7%A5%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text"> 2 相关工作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AF%B9%E9%BD%90%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.</span> <span class="toc-text"> 大语言模型的对齐方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E9%98%B2%E6%8A%A4%E6%8E%AA%E6%96%BD%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-number">2.2.</span> <span class="toc-text"> 安全防护措施的局限性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E8%B0%83%E5%90%8E%E6%A8%A1%E5%9E%8B%E5%AE%89%E5%85%A8%E6%80%A7%E7%9A%84%E5%85%B3%E6%B3%A8"><span class="toc-number">2.3.</span> <span class="toc-text"> 微调后模型安全性的关注</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%96%B9%E6%B3%95safetylock"><span class="toc-number">3.</span> <span class="toc-text"> 3 方法：SafetyLock</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#31-safetylock%E7%9A%84%E6%9E%84%E5%BB%BA"><span class="toc-number">3.1.</span> <span class="toc-text"> 3.1 SafetyLock的构建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#311-%E5%AE%89%E5%85%A8%E7%89%B9%E5%BE%81%E5%9C%A8transformer%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.1.1.</span> <span class="toc-text"> 3.1.1 安全特征在Transformer中的实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32-%E6%9E%84%E5%BB%BAmeta-safetylock"><span class="toc-number">3.2.</span> <span class="toc-text"> 3.2 构建Meta-SafetyLock</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#33-safetylock%E5%AF%B9%E5%BE%AE%E8%B0%83%E7%9A%84%E9%B2%81%E6%A3%92%E6%80%A7"><span class="toc-number">3.3.</span> <span class="toc-text"> 3.3 SafetyLock对微调的鲁棒性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#34-safetylock%E7%9A%84%E5%88%86%E5%8F%91"><span class="toc-number">3.4.</span> <span class="toc-text"> 3.4 SafetyLock的分发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#341-%E5%9C%A8%E7%BA%BF%E5%B9%B2%E9%A2%84"><span class="toc-number">3.4.1.</span> <span class="toc-text"> 3.4.1 在线干预</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#342-%E7%A6%BB%E7%BA%BF%E5%81%8F%E7%BD%AE%E7%BC%96%E8%BE%91"><span class="toc-number">3.4.2.</span> <span class="toc-text"> 3.4.2 离线偏置编辑</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%AE%9E%E9%AA%8C"><span class="toc-number">4.</span> <span class="toc-text"> 4 实验</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#41-%E5%AE%9E%E9%AA%8C%E7%BB%86%E8%8A%82"><span class="toc-number">4.1.</span> <span class="toc-text"> 4.1 实验细节</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AE%E8%B0%83%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">4.1.1.</span> <span class="toc-text"> 微调数据集</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42-%E4%B8%8D%E5%90%8C%E9%A3%8E%E9%99%A9%E6%B0%B4%E5%B9%B3%E4%B8%8B%E7%9A%84%E7%BB%93%E6%9E%9C"><span class="toc-number">4.2.</span> <span class="toc-text"> 4.2 不同风险水平下的结果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43-%E5%9F%BA%E7%BA%BF%E6%96%B9%E6%B3%95%E7%9A%84%E6%AF%94%E8%BE%83%E5%88%86%E6%9E%90"><span class="toc-number">4.3.</span> <span class="toc-text"> 4.3 基线方法的比较分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#44-safetylock%E5%9C%A8%E7%BB%84%E5%90%88%E6%94%BB%E5%87%BB%E4%B8%8B%E7%9A%84%E8%A1%A8%E7%8E%B0"><span class="toc-number">4.4.</span> <span class="toc-text"> 4.4 SafetyLock在组合攻击下的表现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#45-%E5%AF%B9%E4%B8%8B%E6%B8%B8%E4%BB%BB%E5%8A%A1%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">4.5.</span> <span class="toc-text"> 4.5 对下游任务的影响</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%BB%93%E8%AE%BA"><span class="toc-number">5.</span> <span class="toc-text"> 5 结论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%B8%AA%E4%BA%BA%E8%AF%84%E4%BB%B7"><span class="toc-number">6.</span> <span class="toc-text"> 6 个人评价</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E6%96%B0%E6%80%A7"><span class="toc-number">6.1.</span> <span class="toc-text"> 创新性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%94%A8%E6%80%A7"><span class="toc-number">6.2.</span> <span class="toc-text"> 实用性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BD%9C%E5%8A%9B%E4%B8%8E%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-number">6.3.</span> <span class="toc-text"> 潜力与局限性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">6.4.</span> <span class="toc-text"> 总结</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2024/10/29/2410-10343/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2024/10/29/2410-10343/&text=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2024/10/29/2410-10343/&title=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2024/10/29/2410-10343/&is_video=false&description=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性&body=Check out this article: http://example.com/2024/10/29/2410-10343/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2024/10/29/2410-10343/&title=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2024/10/29/2410-10343/&title=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2024/10/29/2410-10343/&title=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2024/10/29/2410-10343/&title=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2024/10/29/2410-10343/&name=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2024/10/29/2410-10343/&t=浙江大学等单位提出SafetyLock方法以增强微调大语言模型的安全性"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2024
    anquanwang
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
